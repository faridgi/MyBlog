{% extends "layout.twig" %}

{% block body %}
    <h1 class="text-center">Edit article !</h1>
    <form action="" method="POST" enctype="multipart/form-data">
        <div class="mb-3 row">
            <label for="">Title : </label>
            <input type="text" name="title" id="title" value=" {{ article.title }}"class="form-control">
        </div>
        <div class="mb-3 row">
            <label for="">Catégorie : </label>
            <select name="category" id="" class="form-control">
                <option value="">Choisir une catégorie ! </option>
                {% if categories %}
                    {% for category in categories %}
                        {% if category.title is same as(article.category) %}
                            <option value="{{ category.title }}" selected>{{ category.title }}</option>
                        {% else %}
                            <option value="{{ category.title }}">{{ category.title }}</option>
                        {% endif %}
                    {% endfor %}

                {% endif %}
                
            </select>
        </div>
       <div class="mb-3 row">
            <label for="">Content : </label>
            <textarea name="content" id="content" style="width: 100%"class="form-control" cols="30" rows="10">
                {{ article.content | raw }}
            </textarea>
        </div>
        <div class="mb-3 row">
            <label for="image">Image : </label>
            <input type="file" name="image" id="image" class="form-control">
        </div>
        <button class="btn btn-success mt-3">Edit article</button>
    </form>

  
{% endblock %}

    {% block javascript %}
        <script src="https://cdn.ckeditor.com/ckeditor5/30.0.0/classic/ckeditor.js"></script>
        <script>
            ClassicEditor
                .create( document.querySelector( '#content' ) )
                .catch( error => {
                    console.error( error );
                } );
        </script>
    {% endblock %}